# Environment Configuration
# Copy this file to .env and update values for your environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=GarageReg
APP_ENV=development
APP_DEBUG=true
APP_URL=http://localhost

# =============================================================================
# DATABASE SETTINGS
# =============================================================================
# PostgreSQL
DB_HOST=db
DB_PORT=5432
DB_NAME=garagereg
DB_USER=garagereg
DB_PASSWORD=garagereg_dev_password

# Database URLs for services
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
ASYNC_DATABASE_URL=postgresql+asyncpg://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# =============================================================================
# REDIS SETTINGS
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Redis URLs
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}

# =============================================================================
# API SETTINGS
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1
API_CORS_ORIGINS=["http://localhost:3000", "http://localhost:3001"]

# JWT Settings
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Argon2 Password Hashing
ARGON2_MEMORY_COST=65536
ARGON2_TIME_COST=3
ARGON2_PARALLELISM=4
ARGON2_HASH_LENGTH=32

# CSRF
CSRF_SECRET_KEY=your-csrf-secret-key-change-this

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORAGE_URL=${REDIS_URL}

# =============================================================================
# MINIO (S3-compatible storage)
# =============================================================================
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=garagereg
MINIO_SECURE=false

# S3-compatible URL
S3_ENDPOINT=http://${MINIO_HOST}:${MINIO_PORT}
S3_ACCESS_KEY=${MINIO_ACCESS_KEY}
S3_SECRET_KEY=${MINIO_SECRET_KEY}
S3_BUCKET=${MINIO_BUCKET}

# =============================================================================
# EMAIL SETTINGS (Mailhog for development)
# =============================================================================
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_TLS=false
SMTP_SSL=false

# Email settings
EMAIL_FROM=noreply@garagereg.local
EMAIL_FROM_NAME=GarageReg System

# =============================================================================
# TRAEFIK SETTINGS
# =============================================================================
TRAEFIK_API_DASHBOARD=true
TRAEFIK_API_INSECURE=true

# =============================================================================
# WEB ADMIN SETTINGS (Next.js)
# =============================================================================
NEXT_PUBLIC_API_URL=http://localhost/api
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret-change-this

# =============================================================================
# WORKER SETTINGS (Celery)
# =============================================================================
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_LOGLEVEL=INFO

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# Sentry (optional)
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Hot reload for development
WATCHDOG_RELOAD=true

# API Documentation
DOCS_ENABLED=true
REDOC_ENABLED=true

# =============================================================================
# MOBILE APP SETTINGS
# =============================================================================
MOBILE_API_URL=http://10.0.2.2/api  # Android emulator localhost
# MOBILE_API_URL=http://localhost/api  # iOS simulator

# =============================================================================
# TESTING
# =============================================================================
TEST_DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}_test

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# These should be set in production environment
# APP_ENV=production
# APP_DEBUG=false
# DATABASE_URL=postgresql://user:pass@prod-db:5432/garagereg
# JWT_SECRET_KEY=very-secure-production-key
# MINIO_SECURE=true
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_TLS=true